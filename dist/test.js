"use strict";

// Add extra plugin.
CKEDITOR.config.extraPlugins = "balloonpanel";
CKEDITOR.replace("editor1");

function test() {
  // Create Doc object for axe-core library.
  var doc = document.implementation.createHTMLDocument("New Document");
  var p = doc.createElement("p");
  p.innerHTML = CKEDITOR.instances.editor1.document.getBody().getHtml();

  try {
    doc.body.appendChild(p);
  } catch (e) {
    console.log(e);
  }

  console.log(doc); // Axe core demo with image-alt.

  axe.run(doc, {
    runOnly: {
      type: "rule",
      values: ["image-alt"]
    }
  }, function (err, results) {
    console.log("buu");
    console.log(results);
    console.log(err); // @todo handle all violations not just first item.

    if (typeof results.violations !== "undefined" && results.violations.length > 0) {
      var title = "<p>" + results.violations[0].help + "</p>";
      var content = "<p>" + results.violations[0].description + "</p>";
      var panel = new CKEDITOR.ui.balloonPanel(CKEDITOR.instances.editor1, {
        title: title,
        content: content
      }); // Balloon panel demo.

      panel.attach(document.querySelectorAll("#test_image"));
    }
  });
}

setTimeout(test, 2000);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QuanMiXSwibmFtZXMiOlsiQ0tFRElUT1IiLCJjb25maWciLCJleHRyYVBsdWdpbnMiLCJyZXBsYWNlIiwidGVzdCIsImRvYyIsImRvY3VtZW50IiwiaW1wbGVtZW50YXRpb24iLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJwIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImluc3RhbmNlcyIsImVkaXRvcjEiLCJnZXRCb2R5IiwiZ2V0SHRtbCIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImUiLCJjb25zb2xlIiwibG9nIiwiYXhlIiwicnVuIiwicnVuT25seSIsInR5cGUiLCJ2YWx1ZXMiLCJlcnIiLCJyZXN1bHRzIiwidmlvbGF0aW9ucyIsImxlbmd0aCIsInRpdGxlIiwiaGVscCIsImNvbnRlbnQiLCJkZXNjcmlwdGlvbiIsInBhbmVsIiwidWkiLCJiYWxsb29uUGFuZWwiLCJhdHRhY2giLCJxdWVyeVNlbGVjdG9yQWxsIiwic2V0VGltZW91dCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBQSxRQUFRLENBQUNDLE1BQVQsQ0FBZ0JDLFlBQWhCLEdBQStCLGNBQS9CO0FBRUFGLFFBQVEsQ0FBQ0csT0FBVCxDQUFpQixTQUFqQjs7QUFFQSxTQUFTQyxJQUFULEdBQWdCO0FBQ2Q7QUFDQSxNQUFJQyxHQUFHLEdBQUdDLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QkMsa0JBQXhCLENBQTJDLGNBQTNDLENBQVY7QUFDQSxNQUFJQyxDQUFDLEdBQUdKLEdBQUcsQ0FBQ0ssYUFBSixDQUFrQixHQUFsQixDQUFSO0FBQ0FELEVBQUFBLENBQUMsQ0FBQ0UsU0FBRixHQUFjWCxRQUFRLENBQUNZLFNBQVQsQ0FBbUJDLE9BQW5CLENBQTJCUCxRQUEzQixDQUFvQ1EsT0FBcEMsR0FBOENDLE9BQTlDLEVBQWQ7O0FBQ0EsTUFBSTtBQUNGVixJQUFBQSxHQUFHLENBQUNXLElBQUosQ0FBU0MsV0FBVCxDQUFxQlIsQ0FBckI7QUFDRCxHQUZELENBRUUsT0FBT1MsQ0FBUCxFQUFVO0FBQ1ZDLElBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixDQUFaO0FBQ0Q7O0FBRURDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZZixHQUFaLEVBWGMsQ0FhZDs7QUFDQWdCLEVBQUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUNFakIsR0FERixFQUVFO0FBQ0VrQixJQUFBQSxPQUFPLEVBQUU7QUFDUEMsTUFBQUEsSUFBSSxFQUFFLE1BREM7QUFFUEMsTUFBQUEsTUFBTSxFQUFFLENBQUMsV0FBRDtBQUZEO0FBRFgsR0FGRixFQVFFLFVBQVNDLEdBQVQsRUFBY0MsT0FBZCxFQUF1QjtBQUNyQlIsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksS0FBWjtBQUNBRCxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWU8sT0FBWjtBQUNBUixJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWU0sR0FBWixFQUhxQixDQUtyQjs7QUFDQSxRQUNFLE9BQU9DLE9BQU8sQ0FBQ0MsVUFBZixLQUE4QixXQUE5QixJQUNBRCxPQUFPLENBQUNDLFVBQVIsQ0FBbUJDLE1BQW5CLEdBQTRCLENBRjlCLEVBR0U7QUFDQSxVQUFJQyxLQUFLLEdBQUcsUUFBUUgsT0FBTyxDQUFDQyxVQUFSLENBQW1CLENBQW5CLEVBQXNCRyxJQUE5QixHQUFxQyxNQUFqRDtBQUNBLFVBQUlDLE9BQU8sR0FBRyxRQUFRTCxPQUFPLENBQUNDLFVBQVIsQ0FBbUIsQ0FBbkIsRUFBc0JLLFdBQTlCLEdBQTRDLE1BQTFEO0FBQ0EsVUFBSUMsS0FBSyxHQUFHLElBQUlsQyxRQUFRLENBQUNtQyxFQUFULENBQVlDLFlBQWhCLENBQTZCcEMsUUFBUSxDQUFDWSxTQUFULENBQW1CQyxPQUFoRCxFQUF5RDtBQUNuRWlCLFFBQUFBLEtBQUssRUFBRUEsS0FENEQ7QUFFbkVFLFFBQUFBLE9BQU8sRUFBRUE7QUFGMEQsT0FBekQsQ0FBWixDQUhBLENBUUE7O0FBQ0FFLE1BQUFBLEtBQUssQ0FBQ0csTUFBTixDQUFhL0IsUUFBUSxDQUFDZ0MsZ0JBQVQsQ0FBMEIsYUFBMUIsQ0FBYjtBQUNEO0FBQ0YsR0E1Qkg7QUE4QkQ7O0FBRURDLFVBQVUsQ0FBQ25DLElBQUQsRUFBTyxJQUFQLENBQVYiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBZGQgZXh0cmEgcGx1Z2luLlxuQ0tFRElUT1IuY29uZmlnLmV4dHJhUGx1Z2lucyA9IFwiYmFsbG9vbnBhbmVsXCI7XG5cbkNLRURJVE9SLnJlcGxhY2UoXCJlZGl0b3IxXCIpO1xuXG5mdW5jdGlvbiB0ZXN0KCkge1xuICAvLyBDcmVhdGUgRG9jIG9iamVjdCBmb3IgYXhlLWNvcmUgbGlicmFyeS5cbiAgbGV0IGRvYyA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIk5ldyBEb2N1bWVudFwiKTtcbiAgbGV0IHAgPSBkb2MuY3JlYXRlRWxlbWVudChcInBcIik7XG4gIHAuaW5uZXJIVE1MID0gQ0tFRElUT1IuaW5zdGFuY2VzLmVkaXRvcjEuZG9jdW1lbnQuZ2V0Qm9keSgpLmdldEh0bWwoKTtcbiAgdHJ5IHtcbiAgICBkb2MuYm9keS5hcHBlbmRDaGlsZChwKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUubG9nKGUpO1xuICB9XG5cbiAgY29uc29sZS5sb2coZG9jKTtcblxuICAvLyBBeGUgY29yZSBkZW1vIHdpdGggaW1hZ2UtYWx0LlxuICBheGUucnVuKFxuICAgIGRvYyxcbiAgICB7XG4gICAgICBydW5Pbmx5OiB7XG4gICAgICAgIHR5cGU6IFwicnVsZVwiLFxuICAgICAgICB2YWx1ZXM6IFtcImltYWdlLWFsdFwiXVxuICAgICAgfVxuICAgIH0sXG4gICAgZnVuY3Rpb24oZXJyLCByZXN1bHRzKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImJ1dVwiKTtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdHMpO1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcblxuICAgICAgLy8gQHRvZG8gaGFuZGxlIGFsbCB2aW9sYXRpb25zIG5vdCBqdXN0IGZpcnN0IGl0ZW0uXG4gICAgICBpZiAoXG4gICAgICAgIHR5cGVvZiByZXN1bHRzLnZpb2xhdGlvbnMgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgcmVzdWx0cy52aW9sYXRpb25zLmxlbmd0aCA+IDBcbiAgICAgICkge1xuICAgICAgICBsZXQgdGl0bGUgPSBcIjxwPlwiICsgcmVzdWx0cy52aW9sYXRpb25zWzBdLmhlbHAgKyBcIjwvcD5cIjtcbiAgICAgICAgbGV0IGNvbnRlbnQgPSBcIjxwPlwiICsgcmVzdWx0cy52aW9sYXRpb25zWzBdLmRlc2NyaXB0aW9uICsgXCI8L3A+XCI7XG4gICAgICAgIGxldCBwYW5lbCA9IG5ldyBDS0VESVRPUi51aS5iYWxsb29uUGFuZWwoQ0tFRElUT1IuaW5zdGFuY2VzLmVkaXRvcjEsIHtcbiAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgY29udGVudDogY29udGVudFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBCYWxsb29uIHBhbmVsIGRlbW8uXG4gICAgICAgIHBhbmVsLmF0dGFjaChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI3Rlc3RfaW1hZ2VcIikpO1xuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cblxuc2V0VGltZW91dCh0ZXN0LCAyMDAwKTtcblxuIl0sImZpbGUiOiJ0ZXN0LmpzIn0=